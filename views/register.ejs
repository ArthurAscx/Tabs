<%- include("./partials/head") %>

    <body>
        <%- include("./partials/header") %>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
        <script src="/scripts/registerValidator.js"></script>
            <div class="container-login">
              
                <form id="registroForm" action="/usuario/crear" method="POST" class="estiloForm" enctype="multipart/form-data">
                    <h3 id="titulo">Registro de usuario</h3>
                   
                                    <div class="estiloForm1">
                                        <label id="fNerr" for="firstName" class="estiloForm2">Nombre: </label>
                                        <input type="text" name="firstName" id="firstName" value="<%= locals.old && old.firstName ? old.firstName : '' %>" class="estiloForm3">
                                        <% if(locals.mensajeDeError && mensajeDeError.firstName) {%>
                                        <div class="mensajeError">
                                           <%= mensajeDeError.firstName.msg %>
                                        </div>
                                        <% } %>
                                    </div>
                                    
                                    <div class="estiloForm1">
                                        <label id="lNerr" for="lastName" class="estiloForm2">Apellido: </label>
                                        <input type="text" name="lastName"id="lastName" value="<%= locals.old && old.lastName ? old.lastName : '' %>"class="estiloForm3">
                                        <% if(locals.mensajeDeError && mensajeDeError.lastName) {%>
                                            <div class="mensajeError">
                                               <%= mensajeDeError.lastName.msg %>
                                            </div>
                                            <% } %>
                                    </div>
                                    <div class="estiloForm1">
                                        <label for="birthDate" class="estiloForm2">Fecha de Nacimiento: </label>
                                        <input type="date" name="birthDate" id="birthDate" value="<%= locals.old && old.birthDate ? old.birthDate : '' %>" class="estiloForm3">
                                        <% if(locals.mensajeDeError && mensajeDeError.birthDate) {%>
                                            <div class="mensajeError">
                                               <%= mensajeDeError.birthDate.msg %>
                                            </div>
                                            <% } %>
                                    </div>
                                    <div class="estiloForm1">
                                        <label id="imgErr" for="avatar" class="estiloForm2">Imagen de Perfil: </label>
                                        <input type="file" name="avatar" id="avatar" value="<%= locals.old && old.avatar ? old.avatar : '' %>" class="estiloForm3"
                                            accept="image/*">
                                            <% if(locals.mensajeDeError && mensajeDeError.avatar) {%>
                                                <div class="mensajeError">
                                                   <%= mensajeDeError.avatar.msg %>
                                                </div>
                                                <% } %>
                                        </div>
                                    <div class="estiloForm1">
                                        <label id="cErr" for="email" class="estiloForm2">Correo Electronico: </label>
                                        <input type="text" name="email" id="email" value="<%= locals.old && old.email ? old.email : '' %>" class="estiloForm3">
                                        <% if(locals.mensajeDeError && mensajeDeError.email) {%>
                                            <div class="mensajeError">
                                               <%= mensajeDeError.email.msg %>
                                            </div>
                                            <% } %>
                                    </div>
                                    <div class="estiloForm1">
                                        <label for="idCategory" class="estiloForm2">Categoría: </label>
                                        <select name="idCategory" id="idCategory" class="estiloForm3">
                                            <% for(let i = 0; i < idCategory.length; i++) {%>
                                                <option value="<%=idCategory[i].idCategory%>">
                                                    <%=idCategory[i].name%>
                                                </option>
                                              <% } %>  
                                        </select>
                                        <% if(locals.mensajeDeError && mensajeDeError.idCategory) {%>
                                            <div class="mensajeError">
                                               <%= mensajeDeError.idCategory.msg %>
                                            </div>
                                            <% } %>
                                    </div>
                                    <div class="estiloForm1">
                                        <label id="pwdErr"" for="password" class="estiloForm2">Contraseña: </label>
                                        <input type="password" name="password" id="password" class="estiloForm3">
                                            <% if(locals.mensajeDeError && mensajeDeError.password) {%>
                                                <div class="mensajeError">
                                                   <%= mensajeDeError.password.msg %>
                                                </div>
                                                <% } %>
                                        </div>
                                    <div class="botones-registro">
                                        <button type="reset" class="botonForm">Borrar</button>
                                        <input id="submitero" type="submit" class="botonForm" name="submit1" value="Registrar">
                                    </div>
                </form>
            </div>
            <%- include("./partials/footer") %>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>
    </html>